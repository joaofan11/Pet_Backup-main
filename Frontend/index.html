<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetPlus</title>
    <link rel="icon" type="image/png" href="logo_2.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
</head>
<body>
    <div class="container">
        <nav id="navigation">
            <div class="logo">
                <img src="logo.png" alt="Logo PetPlus" width="50" height="50">
                <span>PetPlus</span>
            </div>
            <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap; justify-content: center;">
                <div id="userInfo" class="user-info" onclick="showPage('user-profile')" style="cursor: pointer;">
                    <img id="userAvatarNav" src="" style="width: 30px; height: 30px; border-radius: 50%; object-fit: cover; display: none; margin-right: 5px;">
                    üëã Ol√°, <span id="userName"></span>
                </div>
                <div class="nav-links">
                    <button class="nav-btn active" onclick="showPage('landing')">Home</button>
                    <button class="nav-btn" onclick="showPage('adoption')">Adotar</button>
                    <button class="nav-btn" onclick="showPage('services')">Servi√ßos</button>
                    <button class="nav-btn" onclick="showPage('blog')">Blog</button>
                    <button class="nav-btn" onclick="showPage('my-pets')" id="myPetsBtn" style="display: none;">Meus Pets</button>
                    <button class="nav-btn" onclick="showPage('login')" id="loginBtn">Entrar</button>
                    <button class="nav-btn" onclick="logout()" id="logoutBtn" style="display: none;">Sair</button>
                </div>
            </div>
        </nav>

        <div id="landing" class="page active">
            <div class="hero">
                <h1>Conectando Cora√ß√µes</h1>
                <p>A plataforma mais completa para ado√ß√£o de pets e gest√£o da sa√∫de dos seus animais de estima√ß√£o</p>
                <div class="cta-buttons">
                    <button class="cta-btn" onclick="showPage('adoption')"> Adotar um Pet</button>
                    <button class="cta-btn secondary" id="heroRegisterBtn" onclick="showPage('register')"> Cadastrar-se</button>
                </div>
            </div>
            <div class="features">
                <div class="feature-card"><span class="feature-icon">üè†</span><h3>Encontre um Lar</h3><p>Milhares de animais esperando uma fam√≠lia amorosa.</p></div>
                <div class="feature-card"><span class="feature-icon">‚ù§Ô∏è</span><h3>Doe com Amor</h3><p>Cadastre pets para ado√ß√£o de forma simples.</p></div>
                <div class="feature-card"><span class="feature-icon">üì±</span><h3>Carteira Digital</h3><p>Hist√≥rico completo de vacinas dos seus pets.</p></div>
                <div class="feature-card"><span class="feature-icon">ü©∫</span><h3>Servi√ßos</h3><p>Hospedagem, creche, veterin√°rios e mais.</p></div>
            </div>
        </div>

        <div id="login" class="page">
            <div class="form-container">
                <h2 class="form-title">Fazer Login</h2>
                <div id="loginMessage" class="message"></div>
                <form id="loginForm">
                    <div class="form-group"><label>Email</label><input type="email" id="loginEmail" required></div>
                    <div class="form-group"><label>Senha</label><input type="password" id="loginPassword" required></div>
                    <button type="submit" class="btn">Entrar</button>
                </form>
                <p style="text-align: center; margin-top: 25px;">N√£o tem conta? <a href="#" onclick="showPage('register')">Cadastre-se aqui</a></p>
            </div>
        </div>

        <div id="register" class="page">
            <div class="form-container">
                <h2 class="form-title">Criar Conta</h2>
                <div id="registerMessage" class="message"></div>
                <form id="registerForm">
                    <div class="form-group"><label>Nome Completo</label><input type="text" id="registerName" required></div>
                    <div class="form-group"><label>Email</label><input type="email" id="registerEmail" required></div>
                    <div class="form-group"><label>Telefone</label><input type="tel" id="registerPhone" required></div>
                    <div class="form-group"><label>Senha</label><input type="password" id="registerPassword" required></div>
                    <div class="form-group"><label>Confirmar Senha</label><input type="password" id="registerConfirmPassword" required></div>
                    <button type="submit" class="btn">Criar Conta</button>
                </form>
                <p style="text-align: center; margin-top: 25px;">J√° tem conta? <a href="#" onclick="showPage('login')">Fa√ßa login aqui</a></p>
            </div>
        </div>

        <div id="user-profile" class="page">
            <div class="form-container">
                <h2 class="form-title">Meu Perfil</h2>
                <div id="profileMessage" class="message"></div>
                <form id="profileForm">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div id="profileImagePreview" style="width: 120px; height: 120px; border-radius: 50%; background: #e2e8f0; margin: 0 auto 15px; overflow: hidden; background-size: cover; background-position: center;"></div>
                        <label for="profilePhoto" class="btn btn-small" style="cursor: pointer;">Alterar Foto</label>
                        <input type="file" id="profilePhoto" name="photo" accept="image/*" style="display: none;" onchange="previewProfileImage(this)">
                    </div>
                    <div class="form-group"><label>Nome</label><input type="text" id="profileName" name="name" required></div>
                    <div class="form-group"><label>Email</label><input type="email" id="profileEmail" name="email" disabled style="background: #edf2f7;"></div>
                    <div class="form-group"><label>Telefone</label><input type="tel" id="profilePhone" name="phone" required></div>
                    <button type="submit" class="btn">Salvar Altera√ß√µes</button>
                </form>
            </div>
        </div>

        <div id="pet-register" class="page">
            <div class="form-container">
                <h2 class="form-title" id="petFormTitle">Cadastrar Pet</h2>
                <div id="petRegisterMessage" class="message"></div>
                <form id="petRegisterForm">
                    <input type="hidden" id="petEditId" name="petEditId">
                    <div class="form-group"><label>Foto do Pet</label><input type="file" id="petPhoto" name="photo" accept="image/*"></div>
                    <div class="form-group"><label>Tipo</label><select id="petType" name="type" required><option value="adoption">Para Ado√ß√£o</option><option value="personal">Pet Pessoal</option></select></div>
                    <div class="form-group"><label>Nome</label><input type="text" id="petName" name="name" required></div>
                    <div class="form-group"><label>Esp√©cie</label><select id="petSpecies" name="species" required><option value="dog">C√£o</option><option value="cat">Gato</option></select></div>
                    <div class="form-group"><label>Ra√ßa</label><input type="text" id="petBreed" name="breed" required></div>
                    <div class="form-group"><label>Idade</label><select id="petAge" name="age" required><option value="puppy">Filhote</option><option value="young">Jovem</option><option value="adult">Adulto</option><option value="senior">Idoso</option></select></div>
                    <div class="form-group"><label>Porte</label><select id="petSize" name="size" required><option value="small">Pequeno</option><option value="medium">M√©dio</option><option value="large">Grande</option></select></div>
                    <div class="form-group"><label>Sexo</label><select id="petGender" name="gender" required><option value="male">Macho</option><option value="female">F√™mea</option></select></div>
                    <div class="form-group"><label>Descri√ß√£o</label><textarea id="petDescription" name="description" required></textarea></div>
                    <button type="submit" class="btn" id="petFormButton">Cadastrar Pet</button>
                    <div id="deletePetButtonWrapper" style="display: none; margin-top: 20px;"><button type="button" class="btn btn-danger" onclick="deletePetFromForm()">Excluir Pet</button></div>
                </form>
            </div>
        </div>

        <div id="adoption" class="page">
            <div style="padding: 30px 40px 0;">
                <h2 class="form-title">Ado√ß√£o</h2>
                <div class="filters">
                    <div class="filter-group"><label>üîç Buscar</label><input type="text" id="searchFilter" onkeyup="filterPets()"></div>
                    <div class="filter-group"><label>üêæ Esp√©cie</label><select id="speciesFilter" onchange="filterPets()"><option value="">Todas</option><option value="dog">C√£o</option><option value="cat">Gato</option></select></div>
                    <div class="filter-group"><label>üìã A√ß√µes</label><button class="btn" onclick="showPetRegisterPage(null)">+ Cadastrar</button></div>
                </div>
            </div>
            <div id="adoptionPets" class="pets-grid"></div>
        </div>

        <div id="my-pets" class="page">
            <div style="padding: 30px 40px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
                    <h2 class="form-title" style="margin-bottom: 0;">Meus Pets</h2>
                    <button class="btn" onclick="showPetRegisterPage(null)" style="width: auto;">+ Adicionar Pet</button>
                </div>
                <div id="myPetsGrid" class="pets-grid"></div>
            </div>
        </div>

        <div id="services" class="page">
            <div style="padding: 30px 40px;">
                <h2 class="form-title">Servi√ßos</h2>
                <div class="filters">
                    <div class="filter-group"><label>üîç Buscar</label><input type="text" id="serviceSearchFilter" onkeyup="filterServices()"></div>
                    <div class="filter-group"><label>üè∑Ô∏è Categoria</label><select id="serviceCategoryFilter" onchange="filterServices()"><option value="">Todas</option><option value="vet">Veterin√°rios</option><option value="sitter">Cuidadores</option></select></div>
                    <div class="filter-group"><label>üìã A√ß√µes</label><button class="btn" onclick="showServiceRegisterPage(null)">+ Cadastrar</button></div>
                </div>
                <div id="servicesGrid" class="pets-grid"></div>
            </div>
        </div>

        <div id="service-register" class="page">
            <div class="form-container">
                <h2 class="form-title" id="serviceFormTitle">Cadastrar Servi√ßo</h2>
                <div id="serviceRegisterMessage" class="message"></div>
                <form id="serviceRegisterForm">
                    <input type="hidden" id="serviceEditId" name="serviceEditId">
                    <div class="form-group"><label>Categoria</label><select id="serviceCategory" name="category" required><option value="vet">Veterin√°rios</option><option value="sitter">Cuidadores</option></select></div>
                    <div class="form-group"><label>Nome</label><input type="text" id="serviceName" name="name" required></div>
                    <div class="form-group"><label>Profissional</label><input type="text" id="serviceProfessional" name="professional" required></div>
                    <div class="form-group"><label>Telefone</label><input type="tel" id="servicePhone" name="phone" required></div>
                    <div class="form-group"><label>Endere√ßo</label><input type="text" id="serviceAddress" name="address" required></div>
                    <div class="form-group"><label>Descri√ß√£o</label><textarea id="serviceDescription" name="description" required></textarea></div>
                    <button type="submit" class="btn" id="serviceFormButton">Salvar</button>
                    <div id="deleteServiceButtonWrapper" style="display: none; margin-top: 20px;"><button type="button" class="btn btn-danger" onclick="deleteServiceFromForm()">Excluir</button></div>
                </form>
            </div>
        </div>

        <div id="blog" class="page">
            <div style="padding: 30px 40px;">
                <h2 class="form-title">Blog</h2>
                <div id="blog-actions" style="display: none; text-align: center; margin-bottom: 30px;"><button class="btn" onclick="toggleNewPostForm(true)">+ Novo Post</button></div>
                <div id="new-post-container" style="display: none; margin-bottom: 40px;">
                    <div class="form-container" style="max-width: 800px;">
                        <h2 class="form-title" id="postFormTitle">Novo Post</h2>
                        <div id="postMessage" class="message"></div>
                        <form id="postForm">
                            <input type="hidden" id="postEditId" name="postEditId">
                            <div class="form-group"><textarea id="postContent" name="content" required placeholder="Escreva aqui..." maxlength="280"></textarea></div>
                            <div class="form-group"><input type="file" id="postPhoto" name="photo" accept="image/*"></div>
                            <div class="form-group"><input type="text" id="postLocation" name="location" placeholder="Localiza√ß√£o"></div>
                            <button type="submit" class="btn" id="postFormButton">Publicar</button>
                            <div id="deletePostButtonWrapper" style="display: none; margin-top: 20px; gap: 10px;">
                                <button type="button" class="btn btn-danger" onclick="deletePostFromForm()">Excluir</button>
                                <button type="button" class="btn btn-secondary" onclick="toggleNewPostForm(false)">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div id="blogFeed" class="blog-feed"></div>
            </div>
        </div>

        <div id="petModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closePetModal()">&times;</span>
                <div id="petModalContent"></div>
            </div>
        </div>

        <div id="vaccinationModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeVaccinationModal()">&times;</span>
                <h3 id="vaccineModalTitle" style="margin-bottom: 25px; color: #2d3748;">Adicionar Vacina</h3>
                <form id="vaccinationForm">
                    <input type="hidden" id="vaccinePetId" name="petId">
                    <input type="hidden" id="vaccineEditId" name="vaccineId">
                    <div class="form-group"><label>Nome</label><input type="text" id="vaccineName" name="name" required></div>
                    <div class="form-group"><label>Data</label><input type="date" id="vaccineDate" name="date" required></div>
                    <div class="form-group"><label>Pr√≥xima Dose</label><input type="date" id="vaccineNext" name="nextDate"></div>
                    <div class="form-group"><label>Veterin√°rio</label><input type="text" id="vaccineVet" name="vet"></div>
                    <div class="form-group"><label>Obs</label><textarea id="vaccineNotes" name="notes"></textarea></div>
                    <button type="submit" class="btn" id="vaccineFormButton">Salvar</button>
                </form>
            </div>
        </div>

        <div id="contactModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeContactModal()">&times;</span>
                <div id="contactModalContent"></div>
            </div>
        </div>
    </div>
    <footer><p>Desenvolvido pelo Time NoRest</p></footer>
    <script src="script.js"></script>
</body>
</html>